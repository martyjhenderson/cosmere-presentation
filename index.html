<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cosmere RPG ‚Äî Presentation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet" />

  <style>
    /* ===========================================
       CUSTOM PROPERTIES
    =========================================== */
    :root {
      --bg-deep:        #030b1a;
      --bg-dark:        #071225;
      --bg-mid:         #0c1d3f;
      --bg-card:        #102358;
      --bg-card-hover:  #183070;

      --royal:          #1a3ea8;
      --royal-bright:   #2857d4;
      --royal-light:    #4472e8;

      --gold:           #c9a63d;
      --gold-light:     #e5c05a;
      --gold-bright:    #f2d272;
      --gold-glow:      rgba(201, 166, 61, 0.28);
      --gold-glow-lg:   rgba(201, 166, 61, 0.12);

      --white:          #edf2ff;
      --white-dim:      rgba(237, 242, 255, 0.62);
      --white-faint:    rgba(237, 242, 255, 0.1);
      --white-ghost:    rgba(237, 242, 255, 0.05);

      --border-gold:    rgba(201, 166, 61, 0.38);
      --border-blue:    rgba(36, 87, 212, 0.45);

      --font-display:   'Cinzel', 'Times New Roman', serif;
      --font-body:      'Crimson Text', Georgia, serif;

      --radius:         8px;
      --radius-lg:      16px;
      --radius-xl:      24px;
      --radius-pill:    100px;

      --ease:           0.28s ease;
      --ease-slow:      0.55s ease;

      --shadow-card:    0 6px 32px rgba(0, 0, 0, 0.45);
      --shadow-gold:    0 0 28px rgba(201, 166, 61, 0.22);
      --shadow-blue:    0 0 28px rgba(26, 62, 168, 0.45);
    }

    /* ===========================================
       RESET
    =========================================== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html { scroll-behavior: smooth; }

    body {
      font-family: var(--font-body);
      background: var(--bg-deep);
      color: var(--white);
      min-height: 100vh;
      overflow-x: hidden;
      line-height: 1.65;
    }

    button { cursor: pointer; font-family: inherit; }

    /* ===========================================
       STAR CANVAS
    =========================================== */
    #stars {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
    }

    /* ===========================================
       HEADER
    =========================================== */
    header {
      position: fixed;
      inset: 0 0 auto 0;
      z-index: 300;
      height: 68px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 2.5rem;
      background: linear-gradient(180deg, rgba(7, 18, 37, 0.98) 0%, rgba(7, 18, 37, 0.93) 100%);
      border-bottom: 1px solid var(--border-gold);
      backdrop-filter: blur(14px);
    }

    .logo {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }

    .logo-name {
      font-family: var(--font-display);
      font-size: 1.35rem;
      font-weight: 700;
      color: var(--gold-light);
      letter-spacing: 3px;
      text-transform: uppercase;
      text-shadow: 0 0 30px var(--gold-glow);
    }

    .logo-sub {
      font-size: 0.62rem;
      color: var(--white-dim);
      letter-spacing: 5px;
      text-transform: uppercase;
    }

    /* NAV */
    nav {
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .tab-btn {
      position: relative;
      padding: 0.45rem 1.6rem;
      background: transparent;
      border: 1px solid transparent;
      border-radius: var(--radius);
      color: var(--white-dim);
      font-family: var(--font-display);
      font-size: 0.82rem;
      font-weight: 600;
      letter-spacing: 2px;
      text-transform: uppercase;
      transition: all var(--ease);
    }

    .tab-btn:hover {
      color: var(--white);
      border-color: var(--border-gold);
      background: var(--white-faint);
    }

    .tab-btn.active {
      color: var(--gold-light);
      border-color: var(--gold);
      background: linear-gradient(135deg, var(--royal) 0%, var(--bg-card) 100%);
      box-shadow: var(--shadow-blue), 0 0 14px var(--gold-glow);
    }

    .nav-sep {
      width: 1px;
      height: 22px;
      background: var(--border-gold);
      opacity: 0.45;
      margin: 0 0.4rem;
    }

    /* HEADER ACTIONS */
    .hdr-actions {
      display: flex;
      gap: 0.6rem;
      align-items: center;
    }

    .hdr-btn {
      padding: 0.38rem 1rem;
      background: var(--white-ghost);
      border: 1px solid var(--border-gold);
      border-radius: var(--radius);
      color: var(--white-dim);
      font-family: var(--font-display);
      font-size: 0.72rem;
      letter-spacing: 1px;
      text-transform: uppercase;
      transition: all var(--ease);
    }

    .hdr-btn:hover {
      background: var(--white-faint);
      color: var(--white);
      border-color: var(--gold-light);
    }

    /* ===========================================
       MAIN & TABS
    =========================================== */
    main {
      position: relative;
      z-index: 1;
      padding-top: 68px;
    }

    .tab-pane { display: none; }
    .tab-pane.active { display: block; }

    /* ===========================================
       HOME
    =========================================== */
    #home {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: calc(100vh - 68px);
      padding: 3rem 2rem;
      text-align: center;
      background: radial-gradient(ellipse at 50% 38%, var(--bg-mid) 0%, var(--bg-deep) 68%);
    }

    .home-eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      font-family: var(--font-display);
      font-size: 0.68rem;
      letter-spacing: 5px;
      text-transform: uppercase;
      color: var(--gold);
      border: 1px solid var(--border-gold);
      padding: 0.38rem 1.4rem;
      border-radius: var(--radius-pill);
      margin-bottom: 2.2rem;
      box-shadow: var(--shadow-gold);
    }

    .home-title {
      font-family: var(--font-display);
      font-size: clamp(3.5rem, 11vw, 9rem);
      font-weight: 900;
      color: var(--white);
      letter-spacing: 8px;
      text-transform: uppercase;
      line-height: 0.88;
    }

    .home-title-sub {
      display: block;
      font-size: clamp(1.2rem, 3vw, 2.5rem);
      color: var(--gold-light);
      letter-spacing: 18px;
      margin-top: 0.5rem;
      text-shadow: 0 0 50px var(--gold-glow);
    }

    .home-desc {
      font-size: 1.15rem;
      color: var(--white-dim);
      max-width: 520px;
      margin: 2rem auto 2.8rem;
      font-style: italic;
      line-height: 1.7;
    }

    .home-cta {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn-primary {
      padding: 0.85rem 2.5rem;
      background: linear-gradient(135deg, var(--royal) 0%, var(--royal-bright) 100%);
      border: 1px solid var(--gold);
      border-radius: var(--radius);
      color: var(--white);
      font-family: var(--font-display);
      font-size: 0.88rem;
      font-weight: 600;
      letter-spacing: 2px;
      text-transform: uppercase;
      transition: all var(--ease);
      box-shadow: var(--shadow-blue);
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, var(--royal-bright) 0%, var(--royal-light) 100%);
      box-shadow: var(--shadow-blue), var(--shadow-gold);
      transform: translateY(-2px);
    }

    .btn-outline {
      padding: 0.85rem 2.5rem;
      background: transparent;
      border: 1px solid var(--border-gold);
      border-radius: var(--radius);
      color: var(--gold-light);
      font-family: var(--font-display);
      font-size: 0.88rem;
      font-weight: 600;
      letter-spacing: 2px;
      text-transform: uppercase;
      transition: all var(--ease);
    }

    .btn-outline:hover {
      background: var(--gold-glow);
      border-color: var(--gold);
      transform: translateY(-2px);
    }

    /* KBD HINTS */
    .kbd-hints {
      display: flex;
      gap: 1.8rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 3rem;
      opacity: 0.7;
    }

    .kbd-hint {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.72rem;
      color: var(--white-dim);
    }

    kbd {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 22px;
      height: 22px;
      padding: 0 5px;
      background: var(--white-ghost);
      border: 1px solid var(--border-gold);
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.68rem;
      color: var(--gold-light);
    }

    /* ===========================================
       SECTION HERO (CRUNCH / FLUFF)
    =========================================== */
    .sec-hero {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 3rem 2rem 1.8rem;
      text-align: center;
      background: radial-gradient(ellipse at 50% 0%, var(--bg-mid) 0%, transparent 72%);
    }

    .sec-eyebrow {
      display: inline-block;
      font-family: var(--font-display);
      font-size: 0.66rem;
      letter-spacing: 5px;
      text-transform: uppercase;
      color: var(--gold);
      border: 1px solid var(--border-gold);
      padding: 0.3rem 1.2rem;
      border-radius: var(--radius-pill);
      margin-bottom: 0.9rem;
    }

    .sec-title {
      font-family: var(--font-display);
      font-size: clamp(2.8rem, 7vw, 5.5rem);
      font-weight: 900;
      color: var(--white);
      letter-spacing: 5px;
      text-transform: uppercase;
      line-height: 1;
      margin-bottom: 0.7rem;
    }

    .sec-desc {
      font-size: 1.08rem;
      color: var(--white-dim);
      max-width: 560px;
      font-style: italic;
    }

    .ornament {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      margin: 1.6rem auto;
      width: 260px;
    }

    .ornament-line {
      flex: 1;
      height: 1px;
      background: linear-gradient(to right, transparent, var(--gold), transparent);
    }

    .ornament-gem {
      width: 7px;
      height: 7px;
      border-radius: 1px;
      background: var(--gold);
      box-shadow: 0 0 8px var(--gold);
      transform: rotate(45deg);
    }

    /* ===========================================
       CARD GRID
    =========================================== */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(310px, 1fr));
      gap: 1.5rem;
      padding: 0.5rem 2.5rem 3.5rem;
      max-width: 1380px;
      margin: 0 auto;
    }

    /* ===========================================
       TOPIC CARD
    =========================================== */
    .card {
      position: relative;
      background: linear-gradient(140deg, var(--bg-card) 0%, var(--bg-mid) 100%);
      border: 1px solid var(--border-blue);
      border-radius: var(--radius-lg);
      padding: 2rem;
      cursor: pointer;
      overflow: hidden;
      transition: transform var(--ease), border-color var(--ease), box-shadow var(--ease);
      box-shadow: var(--shadow-card);
      animation: fadeUp 0.4s both;
    }

    /* top-edge shimmer */
    .card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
      opacity: 0;
      transition: opacity var(--ease);
    }

    /* ambient inner light */
    .card::after {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at top left, rgba(237,242,255,0.045) 0%, transparent 55%);
      pointer-events: none;
    }

    .card:hover {
      border-color: var(--gold);
      transform: translateY(-5px);
      box-shadow: var(--shadow-card), var(--shadow-gold);
    }

    .card:hover::before { opacity: 1; }

    .card-icon {
      width: 52px;
      height: 52px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--white-ghost);
      border: 1px solid var(--border-gold);
      border-radius: var(--radius);
      margin-bottom: 1.2rem;
      font-size: 1.7rem;
    }

    .card-tag {
      font-family: var(--font-display);
      font-size: 0.62rem;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 0.4rem;
    }

    .card-title {
      font-family: var(--font-display);
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--white);
      line-height: 1.2;
      margin-bottom: 0.7rem;
    }

    .card-excerpt {
      font-size: 0.98rem;
      color: var(--white-dim);
      line-height: 1.55;
      font-style: italic;
    }

    .card-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 1.4rem;
      padding-top: 1rem;
      border-top: 1px solid var(--white-ghost);
    }

    .card-hint {
      font-size: 0.72rem;
      color: var(--white-dim);
      letter-spacing: 1px;
    }

    .card-arrow {
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--white-ghost);
      border: 1px solid var(--border-gold);
      border-radius: 50%;
      color: var(--gold);
      font-size: 1rem;
      line-height: 1;
      transition: background var(--ease), color var(--ease);
    }

    .card:hover .card-arrow {
      background: var(--gold);
      color: var(--bg-deep);
    }

    /* ===========================================
       SLIDE OVERLAY
    =========================================== */
    #overlay {
      position: fixed;
      inset: 0;
      z-index: 500;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
      background: rgba(3, 11, 26, 0.88);
      backdrop-filter: blur(10px);
      opacity: 0;
      pointer-events: none;
      transition: opacity var(--ease-slow);
    }

    #overlay.open {
      opacity: 1;
      pointer-events: all;
    }

    .slide-box {
      position: relative;
      width: 100%;
      max-width: 900px;
      max-height: 84vh;
      background: linear-gradient(140deg, var(--bg-mid) 0%, var(--bg-card) 100%);
      border: 1px solid var(--gold);
      border-radius: var(--radius-xl);
      padding: 3rem 3.5rem 2.5rem;
      overflow-y: auto;
      box-shadow: 0 28px 90px rgba(0,0,0,0.65), var(--shadow-gold);
      transform: scale(0.94) translateY(16px);
      transition: transform var(--ease-slow);
    }

    #overlay.open .slide-box { transform: scale(1) translateY(0); }

    /* Corner accent */
    .slide-box::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 140px; height: 140px;
      background: radial-gradient(circle at top left, rgba(201,166,61,0.1) 0%, transparent 70%);
      pointer-events: none;
    }

    .slide-top {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: 1.8rem;
    }

    .slide-meta { display: flex; flex-direction: column; gap: 0.35rem; }

    .slide-section-tag {
      font-family: var(--font-display);
      font-size: 0.62rem;
      letter-spacing: 4px;
      text-transform: uppercase;
      color: var(--gold);
    }

    #slide-title {
      font-family: var(--font-display);
      font-size: clamp(1.5rem, 3vw, 2.2rem);
      font-weight: 700;
      color: var(--white);
      line-height: 1.2;
    }

    .slide-close {
      width: 38px;
      height: 38px;
      flex-shrink: 0;
      margin-left: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--white-ghost);
      border: 1px solid var(--border-gold);
      border-radius: 50%;
      color: var(--white-dim);
      font-size: 1.1rem;
      transition: all var(--ease);
    }

    .slide-close:hover {
      background: rgba(201,166,61,0.18);
      color: var(--gold);
      border-color: var(--gold);
    }

    .slide-rule {
      height: 1px;
      background: linear-gradient(90deg, var(--gold), transparent);
      margin-bottom: 2rem;
    }

    #slide-body {
      font-size: 1.12rem;
      color: var(--white-dim);
      line-height: 1.8;
    }

    #slide-body h3 {
      font-family: var(--font-display);
      color: var(--gold-light);
      font-size: 1.05rem;
      letter-spacing: 1px;
      margin: 1.6rem 0 0.6rem;
    }

    #slide-body p { margin-bottom: 0.9rem; }

    #slide-body ul {
      list-style: none;
      padding: 0;
      margin-bottom: 0.9rem;
    }

    #slide-body ul li {
      position: relative;
      padding: 0.35rem 0 0.35rem 1.4rem;
    }

    #slide-body ul li::before {
      content: '‚óÜ';
      position: absolute;
      left: 0;
      top: 0.55rem;
      color: var(--gold);
      font-size: 0.55rem;
    }

    #slide-body .placeholder {
      color: var(--white-dim);
      font-style: italic;
      opacity: 0.7;
    }

    /* Slide nav bar */
    .slide-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 2.5rem;
      padding-top: 1.4rem;
      border-top: 1px solid var(--white-ghost);
    }

    .slide-nav-btn {
      display: flex;
      align-items: center;
      gap: 0.45rem;
      padding: 0.55rem 1.2rem;
      background: var(--white-ghost);
      border: 1px solid var(--border-gold);
      border-radius: var(--radius);
      color: var(--white-dim);
      font-family: var(--font-display);
      font-size: 0.75rem;
      letter-spacing: 1px;
      text-transform: uppercase;
      transition: all var(--ease);
    }

    .slide-nav-btn:hover:not(:disabled) {
      background: var(--white-faint);
      color: var(--white);
      border-color: var(--gold);
    }

    .slide-nav-btn:disabled {
      opacity: 0.25;
      cursor: not-allowed;
    }

    #slide-counter {
      font-family: var(--font-display);
      font-size: 0.75rem;
      color: var(--white-dim);
      letter-spacing: 2px;
    }

    /* ===========================================
       ANIMATIONS
    =========================================== */
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(18px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* ===========================================
       SCROLLBAR
    =========================================== */
    ::-webkit-scrollbar { width: 7px; }
    ::-webkit-scrollbar-track { background: var(--bg-dark); }
    ::-webkit-scrollbar-thumb { background: var(--border-gold); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--gold); }

    /* ===========================================
       RESPONSIVE
    =========================================== */
    @media (max-width: 700px) {
      header { padding: 0 1rem; }
      .logo-name { font-size: 1rem; }
      .tab-btn { padding: 0.4rem 0.9rem; font-size: 0.72rem; letter-spacing: 1px; }
      .card-grid { padding: 0.5rem 1rem 2.5rem; }
      .slide-box { padding: 2rem 1.5rem; }
    }
  </style>
</head>
<body>

<!-- Star background -->
<canvas id="stars"></canvas>

<!-- ===================== HEADER ===================== -->
<header>
  <div class="logo">
    <span class="logo-name">Cosmere RPG</span>
    <span class="logo-sub">Livestream Presentation</span>
  </div>

  <nav>
    <button class="tab-btn active" data-tab="home">Home</button>
    <div class="nav-sep"></div>
    <button class="tab-btn" data-tab="crunch">‚öî&nbsp; Crunch</button>
    <button class="tab-btn" data-tab="fluff">‚ú¶&nbsp; Fluff</button>
  </nav>

  <div class="hdr-actions">
    <button class="hdr-btn" id="fs-btn">‚õ∂ Fullscreen</button>
  </div>
</header>

<!-- ===================== MAIN ===================== -->
<main>

  <!-- HOME -->
  <div class="tab-pane active" id="tab-home">
    <section id="home">
      <div class="home-eyebrow">‚ú¶ &nbsp; Live Presentation &nbsp; ‚ú¶</div>
      <h1 class="home-title">
        Cosmere
        <span class="home-title-sub">RPG</span>
      </h1>
      <p class="home-desc">
        Journey through the worlds of Brandon Sanderson's Cosmere.
        Dive into the mechanics, explore the lore, and forge your legend.
      </p>
      <div class="home-cta">
        <button class="btn-primary" data-tab="crunch">‚öî&nbsp; Explore Crunch</button>
        <button class="btn-outline" data-tab="fluff">‚ú¶&nbsp; Explore Fluff</button>
      </div>
      <div class="kbd-hints">
        <div class="kbd-hint"><kbd>1</kbd><span>Home</span></div>
        <div class="kbd-hint"><kbd>2</kbd><span>Crunch</span></div>
        <div class="kbd-hint"><kbd>3</kbd><span>Fluff</span></div>
        <div class="kbd-hint"><kbd>Esc</kbd><span>Close</span></div>
        <div class="kbd-hint"><kbd>‚Üê</kbd><kbd>‚Üí</kbd><span>Navigate</span></div>
        <div class="kbd-hint"><kbd>F</kbd><span>Fullscreen</span></div>
      </div>
    </section>
  </div>

  <!-- CRUNCH -->
  <div class="tab-pane" id="tab-crunch">
    <div class="sec-hero">
      <span class="sec-eyebrow">Game Mechanics</span>
      <h2 class="sec-title">Crunch</h2>
      <p class="sec-desc">The rules, systems, and mechanics that drive the Cosmere RPG. Click any card to expand.</p>
      <div class="ornament">
        <div class="ornament-line"></div>
        <div class="ornament-gem"></div>
        <div class="ornament-line"></div>
      </div>
    </div>
    <div class="card-grid" id="crunch-grid"></div>
  </div>

  <!-- FLUFF -->
  <div class="tab-pane" id="tab-fluff">
    <div class="sec-hero">
      <span class="sec-eyebrow">Lore &amp; Worldbuilding</span>
      <h2 class="sec-title">Fluff</h2>
      <p class="sec-desc">The worlds, characters, history, and magic of the Cosmere. Click any card to expand.</p>
      <div class="ornament">
        <div class="ornament-line"></div>
        <div class="ornament-gem"></div>
        <div class="ornament-line"></div>
      </div>
    </div>
    <div class="card-grid" id="fluff-grid"></div>
  </div>

</main>

<!-- ===================== SLIDE OVERLAY ===================== -->
<div id="overlay" role="dialog" aria-modal="true" aria-labelledby="slide-title">
  <div class="slide-box">
    <div class="slide-top">
      <div class="slide-meta">
        <div class="slide-section-tag" id="slide-tag"></div>
        <h2 id="slide-title"></h2>
      </div>
      <button class="slide-close" id="close-btn" aria-label="Close">‚úï</button>
    </div>
    <div class="slide-rule"></div>
    <div id="slide-body"></div>
    <div class="slide-footer">
      <button class="slide-nav-btn" id="prev-btn">&#8249; Prev</button>
      <div id="slide-counter"></div>
      <button class="slide-nav-btn" id="next-btn">Next &#8250;</button>
    </div>
  </div>
</div>

<!-- ===================== SCRIPT ===================== -->
<script>
/* ==========================================
   DATA
   Replace placeholder text with your content.
   Each card has: icon, tag, title, excerpt, content (HTML).
========================================== */
const CRUNCH = [
  {
    icon: 'üé≤',
    tag: 'Foundation',
    title: 'Core Dice System',
    excerpt: 'The fundamental mechanics ‚Äî how dice pools resolve actions, challenges, and dramatic moments.',
    content: `
      <p class="placeholder">[ Describe the core resolution mechanic ‚Äî dice pools, target numbers, success thresholds, etc. ]</p>
      <h3>Assembling the Dice Pool</h3>
      <p class="placeholder">[ How does a player build their pool? Attribute + Skill? Fixed dice? Narrative dice? ]</p>
      <h3>Reading Results</h3>
      <p class="placeholder">[ How are successes, failures, and partial successes interpreted? ]</p>
      <h3>Triumphs &amp; Complications</h3>
      <p class="placeholder">[ Describe special result symbols or critical outcomes. ]</p>
      <h3>The Role of the GM</h3>
      <p class="placeholder">[ How does the GM set difficulty? Opposed rolls? Environmental factors? ]</p>
    `
  },
  {
    icon: 'üìú',
    tag: 'Creation',
    title: 'Character Creation',
    excerpt: 'From world of origin to Invested abilities ‚Äî building the hero who will cross the Cosmere.',
    content: `
      <p class="placeholder">[ Walk through the character creation steps from start to finish. ]</p>
      <h3>Step 1 ‚Äî Choose Your World</h3>
      <p class="placeholder">[ Roshar, Scadrial, Nalthis, Sel, or another? What does origin grant? ]</p>
      <h3>Step 2 ‚Äî Core Attributes</h3>
      <p class="placeholder">[ What attributes exist and how are they distributed at creation? ]</p>
      <h3>Step 3 ‚Äî Skills &amp; Talents</h3>
      <p class="placeholder">[ How are skills selected or ranked at character creation? ]</p>
      <h3>Step 4 ‚Äî Investiture</h3>
      <p class="placeholder">[ How does a character gain access to magic at creation? Is it rare? ]</p>
      <h3>Step 5 ‚Äî Finishing Touches</h3>
      <p class="placeholder">[ Bonds, equipment starting packages, background traits, etc. ]</p>
    `
  },
  {
    icon: 'üí™',
    tag: 'Statistics',
    title: 'Attributes &amp; Skills',
    excerpt: 'The core statistics and trained abilities that define what your character can accomplish.',
    content: `
      <p class="placeholder">[ Overview of the attribute + skill structure. ]</p>
      <h3>Core Attributes</h3>
      <ul>
        <li class="placeholder">[ Attribute 1 ‚Äî name and what it covers ]</li>
        <li class="placeholder">[ Attribute 2 ‚Äî name and what it covers ]</li>
        <li class="placeholder">[ Attribute 3 ‚Äî name and what it covers ]</li>
        <li class="placeholder">[ Attribute 4 ‚Äî name and what it covers ]</li>
      </ul>
      <h3>Skills</h3>
      <p class="placeholder">[ How do skills relate to attributes? How many does a character have? ]</p>
      <h3>Advancement</h3>
      <p class="placeholder">[ How do attributes and skills improve over time? XP? Milestones? ]</p>
    `
  },
  {
    icon: '‚öîÔ∏è',
    tag: 'Action',
    title: 'Combat',
    excerpt: 'Structured, deadly encounters ‚Äî initiative, actions, defense, and the aftermath of battle.',
    content: `
      <p class="placeholder">[ High-level overview of combat flow. ]</p>
      <h3>Initiative &amp; Turn Order</h3>
      <p class="placeholder">[ How is turn order determined? Rolled? Fixed? Popcorn-style? ]</p>
      <h3>Actions on Your Turn</h3>
      <ul>
        <li class="placeholder">[ Action type ‚Äî e.g., Attack ]</li>
        <li class="placeholder">[ Action type ‚Äî e.g., Move ]</li>
        <li class="placeholder">[ Action type ‚Äî e.g., Use Power ]</li>
        <li class="placeholder">[ Reaction or free actions? ]</li>
      </ul>
      <h3>Dealing Damage</h3>
      <p class="placeholder">[ How is damage calculated and applied? Health pools? Wounds? ]</p>
      <h3>Defense &amp; Armor</h3>
      <p class="placeholder">[ How does armor work? Soak? Defense rolls? Passive rating? ]</p>
      <h3>Conditions &amp; Status</h3>
      <p class="placeholder">[ List notable conditions ‚Äî stunned, bleeding, broken, etc. ]</p>
    `
  },
  {
    icon: '‚ú®',
    tag: 'Magic',
    title: 'Investiture &amp; Powers',
    excerpt: 'Tapping into the power of the Shards ‚Äî how magic systems come to life at the table.',
    content: `
      <p class="placeholder">[ What is Investiture in game terms? How is it represented mechanically? ]</p>
      <h3>Accessing Your Power</h3>
      <p class="placeholder">[ What does a character do to activate a power? Roll? Resource cost? ]</p>
      <h3>Resource Management</h3>
      <p class="placeholder">[ Stormlight charges, metal reserves, Breath, etc. ‚Äî how are these tracked? ]</p>
      <h3>Power Progression</h3>
      <p class="placeholder">[ How do Invested abilities grow? Bonded spren? Metal caches? ]</p>
      <h3>Risks &amp; Costs</h3>
      <p class="placeholder">[ Are there risks to using magic? Overspending, backlash, attention? ]</p>
    `
  },
  {
    icon: 'üõ°Ô∏è',
    tag: 'Gear',
    title: 'Equipment &amp; Items',
    excerpt: 'Steel and Stormlight ‚Äî weapons, armor, fabrials, and legendary Shardweapons.',
    content: `
      <p class="placeholder">[ Overview of the equipment system. Is there encumbrance? Currency? ]</p>
      <h3>Weapons</h3>
      <p class="placeholder">[ Weapon categories, damage types, special traits. ]</p>
      <h3>Armor</h3>
      <p class="placeholder">[ Armor types, how they interact with defense or damage. ]</p>
      <h3>Shardblades &amp; Shardplate</h3>
      <p class="placeholder">[ How are these legendary items represented? Are they achievable by PCs? ]</p>
      <h3>Fabrials &amp; Magical Items</h3>
      <p class="placeholder">[ Describe crafted magical devices and how they function in play. ]</p>
    `
  }
];

const FLUFF = [
  {
    icon: 'üåå',
    tag: 'Overview',
    title: 'The Cosmere',
    excerpt: 'One universe, sixteen Shards, infinite worlds ‚Äî the grand stage of Brandon Sanderson\'s interconnected saga.',
    content: `
      <p class="placeholder">[ Introduce the Cosmere as the setting ‚Äî what makes it unique as an RPG backdrop? ]</p>
      <h3>Adonalsium &amp; the Shattering</h3>
      <p class="placeholder">[ What was Adonalsium? What happened at the Shattering and why does it matter? ]</p>
      <h3>The Shards</h3>
      <p class="placeholder">[ What are Shards? Name the relevant ones and their Intents. ]</p>
      <h3>Investiture ‚Äî The Cosmere's Magic</h3>
      <p class="placeholder">[ Explain the unified theory of magic: everything is Investiture from the Shards. ]</p>
      <h3>Worldhopping</h3>
      <p class="placeholder">[ Is traveling between worlds a feature of the RPG? How does it work? ]</p>
    `
  },
  {
    icon: '‚õàÔ∏è',
    tag: 'Setting',
    title: 'Roshar',
    excerpt: 'A world sculpted by highstorms, where ancient oaths bind Knights Radiant and the Everstorm threatens all.',
    content: `
      <p class="placeholder">[ Overview of Roshar as the primary setting for the RPG. ]</p>
      <h3>The Landscape</h3>
      <p class="placeholder">[ Describe the unusual ecology ‚Äî rockbuds, greatshells, crem, the stone plains. ]</p>
      <h3>The Highstorms</h3>
      <p class="placeholder">[ What are they? How do they affect daily life, architecture, Stormlight? ]</p>
      <h3>The Nations</h3>
      <p class="placeholder">[ Alethkar, Urithiru, the Shattered Plains, Shadesmar ‚Äî key locations for play. ]</p>
      <h3>The Current Era</h3>
      <p class="placeholder">[ Where is the timeline set? What is the political and cosmic situation? ]</p>
    `
  },
  {
    icon: 'üë•',
    tag: 'Characters',
    title: 'Notable Characters',
    excerpt: 'Heroes, heralds, and the ever-present Hoid ‚Äî the figures who shape the fate of worlds.',
    content: `
      <p class="placeholder">[ Brief intro to the major NPCs and lore figures players may encounter. ]</p>
      <h3>The Protagonists</h3>
      <ul>
        <li class="placeholder">[ Character ‚Äî brief description and role ]</li>
        <li class="placeholder">[ Character ‚Äî brief description and role ]</li>
        <li class="placeholder">[ Character ‚Äî brief description and role ]</li>
      </ul>
      <h3>The Antagonists</h3>
      <ul>
        <li class="placeholder">[ Villain ‚Äî brief description and threat ]</li>
        <li class="placeholder">[ Villain ‚Äî brief description and threat ]</li>
      </ul>
      <h3>The Enigmatic ‚Äî Hoid</h3>
      <p class="placeholder">[ Describe Hoid's role and why he appears across all worlds. ]</p>
    `
  },
  {
    icon: 'üèõÔ∏è',
    tag: 'Factions',
    title: 'Orders &amp; Organizations',
    excerpt: 'From the ten orders of Knights Radiant to shadow cabals ‚Äî the powers that shape the world.',
    content: `
      <p class="placeholder">[ Overview of the major factions players can ally with, oppose, or navigate. ]</p>
      <h3>The Knights Radiant</h3>
      <p class="placeholder">[ The ten orders, their Surges, their Ideals, and their role in the world today. ]</p>
      <h3>The Ghostbloods</h3>
      <p class="placeholder">[ A cross-world secret society. What do they want? Who leads them? ]</p>
      <h3>The Sons of Honor</h3>
      <p class="placeholder">[ Their goals, methods, and relevance to the current era. ]</p>
      <h3>Other Notable Groups</h3>
      <ul>
        <li class="placeholder">[ Faction ‚Äî brief description ]</li>
        <li class="placeholder">[ Faction ‚Äî brief description ]</li>
      </ul>
    `
  },
  {
    icon: '‚öóÔ∏è',
    tag: 'Magic',
    title: 'Magic Systems',
    excerpt: 'Surgebinding, Allomancy, Feruchemy ‚Äî each world\'s unique gift from its resident Shard.',
    content: `
      <p class="placeholder">[ Frame the magic systems as expressions of Investiture from specific Shards. ]</p>
      <h3>Surgebinding ‚Äî Roshar (Honor &amp; Cultivation)</h3>
      <p class="placeholder">[ Ten Surges, the spren bond, the Oaths. How does it feel to use? ]</p>
      <h3>Allomancy ‚Äî Scadrial (Preservation)</h3>
      <p class="placeholder">[ Swallowing metals, burning them for power. The sixteen metals. ]</p>
      <h3>Feruchemy ‚Äî Scadrial (Harmony)</h3>
      <p class="placeholder">[ Storing attributes in metal minds and tapping them later. ]</p>
      <h3>Other Systems</h3>
      <ul>
        <li class="placeholder">[ Awakening ‚Äî Nalthis / Endowment ]</li>
        <li class="placeholder">[ AonDor ‚Äî Sel / Devotion &amp; Dominion ]</li>
        <li class="placeholder">[ Sand Mastery ‚Äî Taldain / Autonomy ]</li>
      </ul>
    `
  },
  {
    icon: 'üìö',
    tag: 'History',
    title: 'Lore &amp; History',
    excerpt: 'The Desolations, the Recreance, the Final Empire ‚Äî the deep history behind the world you inhabit.',
    content: `
      <p class="placeholder">[ Overview of the historical eras most relevant to play. ]</p>
      <h3>Before the Desolations</h3>
      <p class="placeholder">[ The ancient past ‚Äî Ashyn, the original humans, Adonalsium's influence. ]</p>
      <h3>The Desolations &amp; the Heralds</h3>
      <p class="placeholder">[ What were the Desolations? What role did the ten Heralds play? ]</p>
      <h3>The Recreance</h3>
      <p class="placeholder">[ Why did the Knights Radiant abandon their Shardblades? What was the secret? ]</p>
      <h3>The Present Conflict</h3>
      <p class="placeholder">[ The Everstorm, the return of the Voidbringers, the new Radiants ‚Äî context for play. ]</p>
    `
  }
];

/* ==========================================
   STATE
========================================== */
let activeTab    = 'home';
let overlayOpen  = false;
let slideSection = 'crunch';
let slideIndex   = 0;

/* ==========================================
   TAB SWITCHING
========================================== */
function switchTab(id) {
  document.querySelectorAll('.tab-pane').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));

  const pane = document.getElementById(`tab-${id}`);
  if (pane) pane.classList.add('active');

  const btn = document.querySelector(`.tab-btn[data-tab="${id}"]`);
  if (btn) btn.classList.add('active');

  activeTab = id;
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

/* ==========================================
   CARD RENDERING
========================================== */
function buildCard(data, index, section) {
  const el = document.createElement('div');
  el.className = 'card';
  el.style.animationDelay = `${index * 0.07}s`;
  el.innerHTML = `
    <div class="card-icon">${data.icon}</div>
    <div class="card-tag">${data.tag}</div>
    <h3 class="card-title">${data.title}</h3>
    <p class="card-excerpt">${data.excerpt}</p>
    <div class="card-footer">
      <span class="card-hint">Click to expand</span>
      <div class="card-arrow">&#8250;</div>
    </div>
  `;
  el.addEventListener('click', () => openSlide(index, section));
  return el;
}

function renderGrids() {
  const cg = document.getElementById('crunch-grid');
  const fg = document.getElementById('fluff-grid');
  CRUNCH.forEach((d, i) => cg.appendChild(buildCard(d, i, 'crunch')));
  FLUFF.forEach((d, i)  => fg.appendChild(buildCard(d, i, 'fluff')));
}

/* ==========================================
   SLIDE OVERLAY
========================================== */
function openSlide(index, section) {
  slideSection = section;
  slideIndex   = index;
  paintSlide();
  document.getElementById('overlay').classList.add('open');
  overlayOpen = true;
  document.body.style.overflow = 'hidden';
}

function closeSlide() {
  document.getElementById('overlay').classList.remove('open');
  overlayOpen = false;
  document.body.style.overflow = '';
}

function paintSlide() {
  const data   = slideSection === 'crunch' ? CRUNCH : FLUFF;
  const card   = data[slideIndex];
  const secLbl = slideSection === 'crunch'
    ? '‚öî  Crunch ‚Äî Game Mechanics'
    : '‚ú¶  Fluff ‚Äî Lore & Worldbuilding';

  document.getElementById('slide-tag').textContent   = secLbl;
  document.getElementById('slide-title').textContent = card.title;
  document.getElementById('slide-body').innerHTML    = card.content;
  document.getElementById('slide-counter').textContent =
    `${slideIndex + 1} / ${data.length}`;

  document.getElementById('prev-btn').disabled = (slideIndex === 0);
  document.getElementById('next-btn').disabled = (slideIndex === data.length - 1);

  // Reset scroll
  document.querySelector('.slide-box').scrollTop = 0;
}

function moveSlide(dir) {
  const data = slideSection === 'crunch' ? CRUNCH : FLUFF;
  const next = slideIndex + dir;
  if (next >= 0 && next < data.length) {
    slideIndex = next;
    paintSlide();
  }
}

/* ==========================================
   STAR FIELD
========================================== */
function initStars() {
  const canvas = document.getElementById('stars');
  const ctx    = canvas.getContext('2d');

  const resize = () => {
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;
  };
  resize();
  window.addEventListener('resize', resize);

  const stars = Array.from({ length: 180 }, () => ({
    x:      Math.random(),
    y:      Math.random(),
    r:      Math.random() * 1.4 + 0.25,
    phase:  Math.random() * Math.PI * 2,
    speed:  Math.random() * 0.6 + 0.2
  }));

  let last = 0;
  const draw = (ts) => {
    const dt = ts - last;
    last = ts;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    stars.forEach(s => {
      s.phase += s.speed * dt * 0.0008;
      const alpha = 0.18 + 0.45 * (0.5 + 0.5 * Math.sin(s.phase));
      ctx.beginPath();
      ctx.arc(s.x * canvas.width, s.y * canvas.height, s.r, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(210, 225, 255, ${alpha})`;
      ctx.fill();
    });
    requestAnimationFrame(draw);
  };
  requestAnimationFrame(draw);
}

/* ==========================================
   FULLSCREEN
========================================== */
function toggleFullscreen() {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}

/* ==========================================
   INIT
========================================== */
document.addEventListener('DOMContentLoaded', () => {
  renderGrids();
  initStars();

  // Tab buttons (header nav)
  document.querySelectorAll('.tab-btn[data-tab]').forEach(btn =>
    btn.addEventListener('click', () => switchTab(btn.dataset.tab))
  );

  // CTA buttons on home page
  document.querySelectorAll('[data-tab]:not(.tab-btn)').forEach(el =>
    el.addEventListener('click', () => switchTab(el.dataset.tab))
  );

  // Overlay controls
  document.getElementById('close-btn').addEventListener('click', closeSlide);
  document.getElementById('prev-btn').addEventListener('click', () => moveSlide(-1));
  document.getElementById('next-btn').addEventListener('click', () => moveSlide(1));

  // Click outside slide-box to close
  document.getElementById('overlay').addEventListener('click', e => {
    if (e.target === e.currentTarget) closeSlide();
  });

  // Fullscreen
  document.getElementById('fs-btn').addEventListener('click', toggleFullscreen);

  // Keyboard
  document.addEventListener('keydown', e => {
    if (overlayOpen) {
      if (e.key === 'Escape')      closeSlide();
      if (e.key === 'ArrowLeft')   moveSlide(-1);
      if (e.key === 'ArrowRight')  moveSlide(1);
    } else {
      if (e.key === '1') switchTab('home');
      if (e.key === '2') switchTab('crunch');
      if (e.key === '3') switchTab('fluff');
      if (e.key === 'f' || e.key === 'F') toggleFullscreen();
    }
  });
});
</script>
</body>
</html>
